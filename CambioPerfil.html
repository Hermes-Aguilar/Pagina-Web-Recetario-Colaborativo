<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar-Perfil</title>
    <link rel="stylesheet" href="css/estilofi.css">

</head>
<body>
<main>
    <section class="profile-section">
        

        <div class="profile-image-section">
            <div class="image-preview-container">
                <img id="profilePreview" src="img/perfil.jpg" alt="Foto de perfil" class="profile-preview">
                <div class="upload-overlay" onclick="document.getElementById('profileImageInput').click()">游닞</div>
            </div>

            <input type="file" id="profileImageInput" class="file-input-hidden" accept="image/*" onchange="previewProfileImage(event)">
            
            <button type="button" class="upload-image-btn" onclick="document.getElementById('profileImageInput').click()">
                Cambiar foto de perfil
            </button>
            
            <div class="file-info-text" id="fileInfoText">Haz clic para seleccionar una imagen</div>
        </div>

        <form class="profile-form">
            <div class="form-group">
                <label for="dish-name">Nuevo nombre:</label>
                <input type="text" id="dish-name" name="dish-name" placeholder="Ingresa el nuevo nombre">
            </div>

            <div class="form-group">
                <label for="email">Correo:</label>
                <input type="email" id="email" name="email" placeholder="Correo...">
            </div>

            <div class="form-group">
                <label for="password">Nueva contrase침a:</label>
                <input type="password" id="password" name="password" placeholder="Contrase침a...">
            </div>

            <div class="button-group">
                <button id="cabio_de_perfil" type="submit" class="btn-primary" onclick="guardarPerfil()">Guardar</button>
                <button type="button" class="btn-secondary" onclick="window.location.href='index.html'">Cancelar</button>
            </div>
        </form>
    </section>
</main>


    <script>
        function previewProfileImage(event) {
            const file = event.target.files[0];
            
            if (file) {
                // Validar que sea una imagen
                if (!file.type.startsWith('image/')) {
                    alert('Por favor selecciona un archivo de imagen v치lido');
                    return;
                }
                
                // Validar tama침o (m치ximo 5MB)
                if (file.size > 5 * 1024 * 1024) {
                    alert('La imagen es muy grande. Por favor selecciona una imagen menor a 5MB');
                    return;
                }
                
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    document.getElementById('profilePreview').src = e.target.result;
                    const sizeKB = (file.size / 1024).toFixed(2);
                    document.getElementById('fileInfoText').textContent = `${file.name} (${sizeKB} KB)`;
                }
                
                reader.readAsDataURL(file);
            }
        }

        function guardarPerfil() {
            const nombre = document.getElementById('dish-name').value;
            const contrase침a = document.getElementById('ingredients').value;
            const biografia = document.getElementById('description').value;
            const imagenSrc = document.getElementById('profilePreview').src;
            
            // Aqu칤 puedes agregar la l칩gica para enviar los datos al servidor
            console.log('Datos del perfil:', {
                nombre: nombre,
                contrase침a: contrase침a,
                biografia: biografia,
                imagen: imagenSrc
            });
            
            alert('춰Perfil actualizado correctamente!');
        }
    </script>
</body>

</html>
